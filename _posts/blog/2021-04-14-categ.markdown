---
layout: post
title: <블로그> 카테고리 만들기
date: 2021-04-11 12:11:25 +0900
category2: blog
category: Study Note
tag: [blog , jekyll]

---
<br>  

## **지킬 블로그에 카테고리를 만들어보자**
  
<br>  


현재 사용중인 템플릿에는 카테고리가 없어서 직접 만들어보도록 하였습니다.


블로그 템플릿 - [flexible-jekyll](https://jekyllthemes.io/theme/flexible-jekyll)

<br>  


#### _config.yml 에 추가
 
```yml
category_dir: category/
```

#### category.md 파일 만들기

```markdown
---
layout: category
title: Category
permalink: /category/
---
```  

#### _layouts 에 category.html 만들기 

```html
---
layout: main
---
{% raw %}
{% for post in site.posts %}
<article class="post post-{{post.category}} post-{{post.category2}}">
  {% if post.img %}
  <a class="post-thumbnail" style="background-image: url({{" /assets/img/" | prepend: site.baseurl | append :
    post.img}})" href="{{post.url | prepend: site.baseurl}}">
  </a>
  {% else %}
  {% endif %}
  <div class="post-content">
    <h2 class="post-title">
        <a href="{{post.url | prepend: site.baseurl}}">{{post.title}}</a>
    </h2>
    <p>{{ post.content | strip_html | truncatewords: 15 }}</p>
    <span class="post-date">
        {{post.date | date: "%Y-%m-%d"}}&nbsp;&nbsp;&nbsp;—&nbsp;
    </span>
    <span style="color:rgb(141, 141, 192)">
	{% for t in post.tags %} #{{t}}&nbsp; 
	{% endfor %}
    </span>
  </div>
</article>
{% endfor %}
{% endraw %}
```  

**위 코드의 ```{% raw %}{{post.category}} , {{post.category2}}{% endraw %}``` 부분에 대한 제 게시글 마크다운 예시입니다.**  
  
* 좀 거시기? 하지만 주카테고리와 부카테고리를 만들어보고자 하였습니다.
  
```markdown
---
layout: post
title: Lambda 기초활용 - API 만들기
date: 2021-03-31 13:10:22 +0900
category2: cloud #부카테고리
category: Study Note #주카테고리
tag: [aws,lambda]
img: lambdaimg.png 
---
```

#### 자바스크립트 추가하기
```javascript
<script>
  $(document).ready(() => {
   removeCategory();
  });
  // 해시의 변경 , 즉 다른 카테고리로 이동할 때 removeCategory() 함수를 실행해줍니다.
  $(window).on('hashchange', () => {
    removeCategory();
  });
  // 해시값(카테고리)에 맞게 게시글을 보여주고 숨겨주는 removeCategory() 함수입니다.
  function removeCategory() {
    if (window.location.hash) {
      let hash = window.location.hash.substring(1);
      $('#id-post-title').text(hash.substring(0, 1).toUpperCase() + hash.substring(1));
      let items = $('.post').each((i, e) => {
        if (!$(e).hasClass('post-' + hash)) {
          $(e).hide();
        } else {
          $(e).show();
        }
      });
    }
  }
</script>
```
  
<br>  
.  
  
#### 이제 <span style='color:red'>블로그주소/category/#카테고리이름</span> 으로 해당 카테고리의 게시글만 볼 수 있게 되었습니다.    
  
**메인페이지에서 카테고리 선택 시 경로 예시입니다.**
  
```
{% raw %}
href='{{ root_url }}/{{ site.category_dir }}#${categoryList[i].split(" ")[0]}'
{% endraw %}
```  
  
<br> 
  

  
#### 사이드바에 초간단하게 카테고리 목록을 나타내보았습니다.
  
![](/assets/img/categ1.PNG)
  
#### 블로그 카테고리를 클릭해보면
  
![](/assets/img/categ2.PNG)  
  
카테고리 목록을 블로그에 만드는 것 자체는 다루지 않겠습니다.  
  
<br>  



#### 여기까지 만들면서..
  
jekyll 블로그를 만들면서 liquid 문법을 처음 사용해보고 별 거 아닌 쉬운 것들이지만 자바스크립트 코드를 이리저리 많이 만져보는 계기가 된 것 같습니다. 
  
아직은 블로그 디자인도 글 내용도 허접하지만 계속 공부하고 강해지기를 다짐하며!
  
#### Reference 
 
* 모든 liquid 기초 문법들이 가독성 좋게 나타나있어 적극 활용한 사이트입니다.
   
[https://shopify.github.io/liquid/](https://shopify.github.io/liquid/)

<br>  


#### 앞으로 할 것
* utterances 댓글 기능 만들기
* 검색 엔진에 노출시키기
