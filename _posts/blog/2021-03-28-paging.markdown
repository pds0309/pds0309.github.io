---
layout: post
title: (Jekyll Blog) 페이징 추가하기
date: 2021-03-28 17:11:49 +0900
category2: blog
category: Study Note
tag: [jekyll]

---


  
<br>  

## **전체 글 목록에 최소한의 페이징 기능을 추가해보자**
  
<br>  


현재 사용중인 jekyll 템플릿에 페이징 기능이 있지만 마음에 안들어 살짝 바꿔보기로 하였습니다.

블로그 템플릿 - [flexible-jekyll](https://jekyllthemes.io/theme/flexible-jekyll)

<br>  


#### Gemfile 추가<br>  
  
![](/assets/img/paging.PNG)  

<br>  


#### _config.yml  추가<br>  

```yml
plugins:
# 기존에 있던것들~~
  - jekyll-paginate
paginate: 8
paginate_path: "/page/:num"
```
<br>  

#### bundle install  <br>  
  
```shell
user> bundle install

...

```
<br>  

#### pagination.html 만들기

```html
<div>
<div class="container">
  <nav class="pagination" role="pagination">
    <ul>{% raw %}
      {% if paginator.previous_page %}
        {% if paginator.previous_page == 1 %}
        <p style="float: left;"><a class="newer-posts" href="{{ site.baseurl }}/"><i class="arrowl" aria-hidden="true"></i></a></p>
        {% else %}
        <p style="float: left;"><a class="newer-posts" href="{{ site.baseurl }}/page/{{ paginator.previous_page }}/"><i class="arrowl" aria-hidden="true"></i></a></p>
        {% endif %}
      {% endif %}
      &nbsp;&nbsp;
      {% if paginator.total_pages > 1 %}
      <p style="float: left;"><span ><a id="p-1" class="page-number" href="{{ site.url }}/">&nbsp;&nbsp;1&nbsp;&nbsp;</a>{% for i in (2..paginator.total_pages) %}
        <a id="p-{{i}}" class="page-number" href="{{ site.url }}/page/{{i}}/">&nbsp;&nbsp;{{i}}&nbsp;&nbsp;</a>{% endfor %}</span></p>&nbsp;&nbsp;
      {% endif %}
      {% if paginator.next_page %}
      <p style="float: left;"><a class="older-posts" href="{{ site.baseurl }}/page/{{ paginator.next_page }}/"><i class="arrowr" aria-hidden="true"></i></a></p>
      {% endif %}{% endraw %}
    </ul>
  </nav>
</div>
```

#### 간단한 속성 추가
```css
i.arrowr {
    width: 0.7em;
    height: 0.7em;
    border-right: 0.2em solid black;
    border-top: 0.2em solid black;
    transform: rotate(45deg);
}
i.arrowl {
    width: 0.7em;
    height: 0.7em;
    border-left: 0.2em solid black;
    border-bottom: 0.2em solid black;
    transform: rotate(45deg);
}
  .page-number{
    color: gray;
    text-decoration: none;
    font-size: 20px;
    border-radius: 50%;
  }

  .page-number:hover{
    font-weight: bolder;
    color: black;
    font-size: 22px;
    background-color: rgb(198, 219, 228);
  }
  .page-number:active{
    color: red;
  }
```

#### 현재 페이지일 때 강조해주기
```javascript
<script>
  var curPage = '{{paginator.page}}';
  var A = document.getElementById('p-'+curPage+'');
  A.style.backgroundColor = 'rgb(198, 219, 228)';
  A.style.fontWeight = 'bolder';
  A.style.color = 'black';
</script>
```
  
#### index.html 페이지에 삽입

```liquid
// index.html
{% raw %}
{% include pagination.html %}
{% endraw %}
```

<br>  
   
#### 결과
![](/assets/img/paging2.PNG)  
* 글 수가 많아질 때 한번 더 수정을 해줘야 할 것이다.

#### Liquid Paginate 속성  
* 변수이름 : paginator    
*  속성  

	* paginator.page - 현재 페이지 번호
	* paginator.per_page - 페이지 당 포스트 수
	* paginator.posts - 현재 페이지의 포스트들
	* paginator.total_posts - 전체 포스트 개수
	* paginator.total_pages - 전체 페이지 개수
	* paginator.previous_page - 이전 페이지 번호. 이전 페이지가 없는 경우 nil
	* paginator.previous_page_path - 이전 페이지 경로. 이전 페이지가 없는 경우 nil
	* paginator.next_page - 다음 페이지 번호. 다음 페이지가 없는 경우 nil
	* paginator.next_page_path - 다음 페이지 경로. 다음 페이지가 없는 경우 nil

<br>  

#### Reference
* [https://jekyllrb-ko.github.io/docs/pagination/](https://jekyllrb-ko.github.io/docs/pagination/)

#### 앞으로 할 것
* 전체 글 목록에 태그 박스 만들기
* utterances 댓글 기능 만들기
* 검색 엔진에 노출시키기